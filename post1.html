<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Zengfu Hou - Post</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <!-- Custom styles for this template -->
  <link href="css/clean-blog.min.css" rel="stylesheet">

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand" href="index.html">Zephyr</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="about.html">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="datasets.html">Datasets</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contact.html">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Header -->
  <header class="masthead" style="background-image: url('img/post-bg.jpg')">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-12 col-md-12 mx-auto">
          <div class="post-heading">
            <h1>A Detailed Installation and Configuration Processing of OpenCV 3.4.1 and Visual Studio 2017</h1>
            <span class="meta">Posted by
              <a href="https://zephyrhours.github.io/">Zengfu Hou</a>
              on March 07, 2021</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Post Content -->
  <article>
    <div class="container">
      <div class="row">
        <div class="col-lg-12 col-md-12 mx-auto"> 
        <p><b>Email :</b> zengf.hou@bit.edu.cn</p>
            <p>Welcome to exchange and study！</p>
        <hr>     
        <p>Due to the needs of research, I needs to use OpenCV to carry out related image processing work. However, Ir has taken a lot of detours in the process of installing and configuring opencv environment. In order to let the latecomers avoid detours, I decided to share my specific configuration process for reference.</p> 
            
        <p><b>Tip：</b>The installed OpenCV version needs to strictly correspond to the Visual Studio version to avoid unnecessary trouble.</p>  
       
        <p><b>Version Requirements：</b>Visual Studio 2017 Community Edition, OpenCV 3.4.1</p> 
       
        <hr>
        <h2 class="section-heading">1. Download</h2>    
        <p>Firstly, we need to download the relevant softwares. For your convenience, the following two download websites are given. You can download them according to your needs.</p>   
            
        <h3 class="section-heading">1.1 Download VS 2017</h3>     
         <ul>
            <li><b>From microsoft website</b></li>
        </ul>    
        <p>The latest version of VS has been released. You need to log in to your own Microsoft account to get the access, otherwise you can't download it. </p>   
        
         <p><b>Microsoft Link: </b> <a href="https://docs.microsoft.com/en-us/visualstudio/releasenotes/vs2017-relnotes">https://docs.microsoft.com/en-us/visualstudio/releasenotes/vs2017-relnotes</a></p>  
         <img class="img-fluid" src="img/post1/post1-1.png">   
            
            
         <ul>
            <li><b>From the baidu netdisk</b></li>
        </ul>    
        <p>In fact, no matter where you download it, what you download is merely a 1M installation boot program. So for your convenience, here is the vs2017 community version of the installation boot program that I collected. You can download it from my Baidu network disk. </p>   
        
         <p><b>Baidu netdisk link: </b> <a href="https://pan.baidu.com/s/1jJXyRMA">https://pan.baidu.com/s/1jJXyRMA</a><b>  Password: </b>ub6c</p> 
       
        <h3 class="section-heading">1.2 Download OpenCV</h3>   
            
             
        <ul>
            <li><b>From the opencv website(recommendation)</b></li>
        </ul>    
        <p>It is strongly recommended that readers download from the official website. Here, readers can download relevant versions according to their own needs, because I am using vs2017, which is compatible with opencv3.4.1. Therefore, opencv3.4.1 is taken as an example to illustrate. Firstly, from opencv website: <<b>Microsoft Link: </b> <a href="https://opencv.org/">https://opencv.org/</a> enter the opencv releases page to find the corresponding version, and click the download link of “windows”。And then it will jump to sourceforge.net website. Waiting a few seconds, the browser will automatically start to download, the processing will be a little longer, so you need to wait patiently. </p>   
        
        <p><b>Opencv website: </b> <a href="https://opencv.org/">https://opencv.org/</a></p>  
        <img class="img-fluid" src="img/post1/post1-2.png">   
        <img class="img-fluid" src="img/post1/post1-3.png">  
               
         <ul>
            <li><b>From the baidu netdisk</b></li>
        </ul>    
        
         <p><b>Baidu netdisk link: </b> <a href="https://pan.baidu.com/s/1aJo32Si8mM73ZQ_PIfieOA">https://pan.baidu.com/s/1aJo32Si8mM73ZQ_PIfieOA</a><b>  Password: </b>oq64</p>      
            
         <h2 class="section-heading">2. Installation</h2>          
         <p>The specific installation process is as follows:</p>   
         
        <h3 class="section-heading">2.1  the installation of VS 2017</h3>      
         <p>After downloading vs 2017, you will get an executable file to guide users to install. Double click the file to enter the installation page if there is no problem with the. Net Framework version.</p>
        <img class="img-fluid" src="img/post1/post1-4.png">   
         <p>Click the “continue” button directly, and a progress bar will pop up.</p>   
        <img class="img-fluid" src="img/post1/post1-5.png"> 
        <p>After visual studio is ready, it will jump to the following page directly.</p>
        <img class="img-fluid" src="img/post1/post1-6.png">
        <p>Vs 2017 not only supports C / C + + development, but also supports C #, F#, Visual Basic and other development languages. We don’t need to install all the components, just need to install "desktop development using C ++". At the same time, on this page, you can also select the storage location of vs 2017. It is recommended not to install it on disk C. you can select other disks. Then click installation directly. The installation process may take a while. Please wait patiently.</p>    
        <img class="img-fluid" src="img/post1/post1-7.png">   
        <p>After the installation is completed, some computers will appear VS 2017 need to restart the computer. Save the saved information and restart it as required.</p>
        <img class="img-fluid" src="img/post1/post1-8.png">
        <p>After the restart, you will find an icon called “Visual Studio 2017” in the "Start Menu", which proves that your installation is successful.</p>
        <img class="img-fluid" src="img/post1/post1-9.png">   
        <p>Double click to start <b>visual studio 2017</b>. You will be prompted to log in. You can skip it directly. We’ll talk about it later.</p>
        <img class="img-fluid" src="img/post1/post1-10.png">
        <p>After successful installation, the first usage of VS 2017 requires simple configuration, including the development environment and the theme style. We use VS 2017, mainly for C / C + + program development, so select the option of "Visual C + +", as for the color theme, you can choose one from four, and then click the "start visual studio" button.</p>
        <img class="img-fluid" src="img/post1/post1-11.png">    
        <p>Finally, wait a few minutes for VS2017 to start successfully!</p>   
        
        <h3 class="section-heading">2.2   the installation of OpenCV3.4.1</h3>       
        <p>After installing VS2017, the following is the configuration and installation of OpenCV. Finding the previously downloaded installation package, double-click to run opencv-3.4.1-vc14_ Vc15.exe (this is actually a extraction process). When you install the file, the extraction path is asked. Extraction is the installation.</p>   
        <p><b>Tip: </b>the extraction path do not contain Chinese characters and spaces.</p>
        <img class="img-fluid" src="img/post1/post1-12.png">   
        <img class="img-fluid" src="img/post1/post1-13.png">
        
        
        
         <h2 class="section-heading">3. Environment Configuration</h2>  
         <p>After installing VS2017 and opecv3.4.1, we need to configure them, especially opencv, because its installation process is actually a unzipping process, and its registry and environment variables are not automatically written. Therefore, we need to manually configure the environment variables before using them.</p>   
         
        <h3 class="section-heading">3.1  The setting of OpeCV environment variable</h3>  
        <p>Right-click this computer, select "Properties", select "Advanced System Settings" in the control panel, select "Advanced" in the pop-up system properties panel, and then select the bottom "Environment Variables". details as follows:</p>    
        <img class="img-fluid" src="img/post1/post1-14.png">    
        <img class="img-fluid" src="img/post1/post1-15.png">        
        <p>There are two ways to configure environment variables: one is to add them to user variables, the other is to add them to system variables. Here you can choose according to the needs of the readers. <b>Difference: </b>in the user variable, only the user can use it, but other users of this computer can’t use it. In the system variables added to the entire computer, all users can use. Here I added it to the system variable. After selection, click the <b>Edition button</b> below to add the path.</p>    
        <img class="img-fluid" src="img/post1/post1-16.png">       
        <p>Fill in the path in the edit environment variable window, and add the <b>bin's path</b> under the previously unzipped (installed) opencv path to the path system environment variable. Here, add it according to your own storage path. Such as my storage path is <b>"D:\Program Files\opencv\build\x64\vc15\bin"</b></p>    
        <img class="img-fluid" src="img/post1/post1-17.png">      
            
        <h3 class="section-heading">3.2  Configuring Opencv in VS2017</h3>      
        <p>Open vs2017 and create a project.</p>    
        <img class="img-fluid" src="img/post1/post1-18.png">     
        <p>In the <b>New Project dialog box</b>, select an <b>empty project</b>, modify the <b>name</b> and <b>storage location</b>, and click <b>OK</b>.</p>    
        <img class="img-fluid" src="img/post1/post1-19.png">         
        <p>After creating a project, in the <b>property manager window(属性管理器)</b> on the right, right-click to create a project and click <b>properties(属性)</b> to set it.</p>   
        <img class="img-fluid" src="img/post1/post1-20.png">     
        <p>At this time, you can jump directly to the property page configuration window below.</p>    
        <img class="img-fluid" src="img/post1/post1-21.png">     
        <p>Or open the property manager of the project. I configure it under debug x64. “视图” -> “其它窗口” -> “属性管理器”</p>    
        <img class="img-fluid" src="img/post1/post1-22.jpeg">     
        <p>Next, right-click “debug | x64” in the opened property manager, and select “property (R)” in the pop-up menu</p> 
        <img class="img-fluid" src="img/post1/post1-23.jpeg"> 
        <p>This operation can also jump to the configuration window of the property page below.</p>
        <img class="img-fluid" src="img/post1/post1-24.png"> 
        <p>Next, add <b>the included directory</b>, first modify <b>the included directory</b>, select it and then click <b>Edit</b>.</p>  
        <p><b>VC++ 目录 -> 包含目录-> 编辑</b></p>
        <img class="img-fluid" src="img/post1/post1-25.jpeg"> 
        <p>Click the folder flag to create a new folder, and then select the directory.</p>
        <img class="img-fluid" src="img/post1/post1-26.png"> 
        <p>Add three variables as shown in the figure below in turn (that is, the build folder under the previously unzipped opencv path), and click OK.</p>
        <blockquote><ul>
            <li>D:\Program Files\opencv\build\include</li>
            <li>D:\Program Files\opencv\build\include\opencv</li>
            <li>D:\Program Files\opencv\build\include\opencv2</li>
        </ul></blockquote>
        <img class="img-fluid" src="img/post1/post1-27.png">
        <p>Next, repeat this process, and add the following variables to the Library Directory (that is, lib under the previously unzipped opencv path and the number of running bits), and click OK. VC + + Directory > Library Directory > Edit (VC++ 目录 -> 库目录 -> 编辑)</p>
        <p><ul><li>D:\Program Files\opencv\build\x64\vc15\lib</li></ul></p>
        <img class="img-fluid" src="img/post1/post1-28.jpeg">
        <img class="img-fluid" src="img/post1/post1-29.png">
       <p>Next, add dependencies(依赖项)，and modify additional dependencies(附加依赖项)，The platform still selects x64 and adds a variable (manually input or paste)<b>opencv_world341d.lib.</b> Click OK.</p>
      <p><b>链接器 -> 输入 -> 附加依赖项</b></p>
      <img class="img-fluid" src="img/post1/post1-30.png">
      <p>Manual input: <b>opencv_world341d.lib</b></p>
      <img class="img-fluid" src="img/post1/post1-31.png">
      <p><b>Tips:</b></p>
      <ul><li>341 corresponds to opencv3.4.1. If the installed version of OpenCV is not 3.4.1, please go to the internet to find your own version or accord to the installation file opencv-3.4.1-vc14_ vc15. exe (openCV – the version) to modify.</li>
    <li>D after version represents debug mode. If it is the release mode, D should be removed. Choose debug mode or release mode according to personal situation.</li></ul>
    <p>So far, opencv3.4.1 and vs2017 development environment have been configured successfully. Finally, create a new project to test whether the configuration is successful. Right click the source file, <b>add > new item</b></p>
      <img class="img-fluid" src="img/post1/post1-32.png">
      
      <p>Enter the following code to test!</p>
      <img class="img-fluid" src="img/post1/post1-33.jpeg">
<hr>
      <p><b>Reference:</b></p>   
        <ol>
            <li> http://c.biancheng.net/view/456.html</li>
            <li>https://www.cnblogs.com/fsong/p/10295183.html</li>
        </ol>

            
     
            
</article>
  <hr>
   <!-- Footer --> <!-- 脚注-->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-12 col-md-12 mx-auto">
            
          <p class="copyright text-muted">Copyright &copy; zephyrhours.github.io 2021</p>
        </div>
      </div>
    </div>
  </footer>

</body>

</html>
